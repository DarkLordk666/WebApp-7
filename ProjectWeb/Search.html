<!DOCTYPE html>
<html>
<head>
    <title>หน้าค้นหาข้อมูล</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="Homepage.html">หน้าหลัก</a></li>
                <li><a href="log-In.html">เข้าสู่ระบบ</a></li>
                <li><a href="Register.html">ลงทะเบียน</a></li>
            </ul>
        </nav>
    </header>
    <section>
        <h1>ค้นหาข้อมูล</h1>
        <form id="search-form">
            <input type="text" list="game-list" id="search-input" placeholder="คำค้นหา">
            <datalist id="game-list">
                <option value="Grand Theft Auto V" data-img="Capture.png">
                <option value="Counter-Strike: Global Offensive" data-img="Capture2.png">
                <option value="Generation Zero®" data-img="Capture3.png">
                <!-- เพิ่มรายการเกมส์ตามที่คุณต้องการ -->
            </datalist>            
            <button type="button" id="search-button">ค้นหา</button>
        </form>

        <ul class="search-results">
            <!-- แสดงผลลัพธ์การค้นหาที่สร้างจำลอง -->
        </ul>
    </section>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const searchForm = document.getElementById("search-form");
            const searchInput = document.getElementById("search-input");
            const searchButton = document.getElementById("search-button");
            const searchResults = document.querySelector(".search-results");
            const gameList = document.getElementById("game-list").getElementsByTagName("option");

            // เรียกใช้ฟังก์ชัน filterGames เมื่อหน้าค้นหาโหลดเสร็จ
            filterGames("");

            searchButton.addEventListener("click", function () {
                filterGames(searchInput.value);
            });

            searchForm.addEventListener("submit", function (e) {
                e.preventDefault(); // ป้องกันการส่งฟอร์ม
                filterGames(searchInput.value);
            });

            function filterGames(keyword) {
                searchResults.innerHTML = ''; // ล้างผลลัพธ์ค้นหาเดิม
                keyword = keyword.trim().toLowerCase(); // ตัดช่องว่างหน้า-หลังและแปลงเป็นตัวพิมพ์เล็ก

                if (keyword === '') {
                    // ถ้าคำค้นหาว่าง ให้แสดงเกมส์ทั้งหมด
                    for (const game of gameList) {
                        const gameResult = document.createElement("li");
                        const gameLink = document.createElement("a");
                        gameLink.href = "Product-Detail1.html"; // สร้างลิงก์ไปยังหน้า Product-Detail1.html
                        const imageBox = document.createElement("div");
                        imageBox.classList.add("image-box");
                        const gameImage = document.createElement("img");
            
                        // ใช้ dataset property เพื่อเข้าถึง URL ของรูปภาพที่เกี่ยวข้องกับเกมส์
                        gameImage.src = game.dataset.img;
            
                        gameImage.alt = "รูปภาพเกมส์";
                        const gameTitle = document.createElement("strong");
                        gameTitle.textContent = game.value;

                        imageBox.appendChild(gameImage);
                        imageBox.appendChild(gameTitle);
                        gameLink.appendChild(imageBox);
                        gameResult.appendChild(gameLink);
                        searchResults.appendChild(gameResult);
                    }
                } else {
                    // ถ้ามีคำค้นหา
                    for (const game of gameList) {
                        const gameName = game.value.toLowerCase();

                        if (gameName.includes(keyword)) {
                            const gameResult = document.createElement("li");
                            const gameLink = document.createElement("a");
                            gameLink.href = "Product-Detail1.html"; // สร้างลิงก์ไปยังหน้า Product-Detail1.html
                            const imageBox = document.createElement("div");
                            imageBox.classList.add("image-box");
                            const gameImage = document.createElement("img");

                            // ใช้ dataset property เพื่อเข้าถึง URL ของรูปภาพที่เกี่ยวข้องกับเกมส์
                            gameImage.src = game.dataset.img;

                            gameImage.alt = "รูปภาพเกมส์";
                            const gameTitle = document.createElement("strong");
                            gameTitle.textContent = game.value;

                            imageBox.appendChild(gameImage);
                            imageBox.appendChild(gameTitle);
                            gameLink.appendChild(imageBox);
                            gameResult.appendChild(gameLink);
                            searchResults.appendChild(gameResult);
                        }
                    }
                }
            }        
        });
    </script>


</body>
</html>
